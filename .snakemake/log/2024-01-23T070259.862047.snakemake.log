Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /usr/bin/bash
Provided cores: 24
Rules claiming more threads will be scaled down.
Job stats:
job                        count
-----------------------  -------
all                            1
unibind_organize_tfbs          1
unibind_profile_mapping        1
total                          3

Select jobs to execute...

[Tue Jan 23 07:03:04 2024]
Job 4: 
        Orgnzies UniBind damos by TF and profile
        
Reason: Forced execution

[Tue Jan 23 07:03:05 2024]
Job 7: 
        Confirms each profile is homo sapiens.
        
Reason: Forced execution

Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_
Activating conda environment: ../../../../../../../../../../../../../home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_
Terminating processes on user request, this might take some time.
[Tue Jan 23 07:03:16 2024]
Error in rule unibind_profile_mapping:
    jobid: 7
    input: results/unibind/damo_hg38_PWMS
    output: results/unibind/profile_mapping.txt
    log: workflow/logs/check_human_profile.stdout, workflow/logs/check_human_profile.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_
    shell:
        
        coreapi get https://jaspar.elixir.no/api/v1/docs/
        readarray -t profiles < <(find results/unibind/damo_hg38_PWMS -mindepth 2 -maxdepth 2 -name '*M*' -type d -exec basename {}  \;)
        for profile in "${profiles[@]}";
        do
            echo "$profile"
            query=$(coreapi action matrix read -p matrix_id="$profile") || query="NaN"

            tf_species=$(echo $query | jq '.species.[].name' | tr -d '"') || species="NaN"
            tf_name=$(echo $query | jq '.name' | tr -d '"') || tf_name="NaN"
            tf_class=$(echo $query | jq '.class[]' | tr -d '"') || tf_class="NaN"
            tf_family=$(echo $query | jq '.family[]' | tr -d '"') || tf_family="NaN"
            tf_source=$(echo $query | jq '.source' | tr -d '"') || tf_source="NaN"

            printf '%s %s %s %s %s %s
' "$tf_name" "$profile" "$tf_species" "$tf_class" "$tf_family" "$tf_source" >> results/unibind/profile_mapping.txt
        done
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Jan 23 07:03:16 2024]
Error in rule unibind_organize_tfbs:
    jobid: 4
    input: resources/data/unibind/damo_hg38_TFBS_per_TF
    output: results/unibind/damo_hg38_TFBS
    log: workflow/logs/organize_files.stdout, workflow/logs/organize_files.stderr (check log file(s) for error details)
    conda-env: /home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_

RuleException:
CalledProcessError in file /panfs/accrepfs.vampire/data/ruderferlab/projects/biovu/cnv/cre/CTCF-Variant-Annotation/snakemake/workflows/common/unibind/workflow/rules/unibind.smk, line 189:
Command 'source /panfs/accrepfs.vampire/home/tubbsca/miniforge-pypy3/bin/activate '/home/tubbsca/snakemake_condas/731e748426e5d2229fb04f545246a292_'; set -euo pipefail;  python /panfs/accrepfs.vampire/data/ruderferlab/projects/biovu/cnv/cre/CTCF-Variant-Annotation/snakemake/workflows/common/unibind/.snakemake/scripts/tmp04l74eaa.organize.py' died with <Signals.SIGINT: 2>.
  File "/panfs/accrepfs.vampire/data/ruderferlab/projects/biovu/cnv/cre/CTCF-Variant-Annotation/snakemake/workflows/common/unibind/workflow/rules/unibind.smk", line 189, in __rule_organize_tfbs
  File "/accre/arch/easybuild/software/BinDist/Anaconda3/2022.05/lib/python3.9/concurrent/futures/thread.py", line 58, in run
Complete log: .snakemake/log/2024-01-23T070259.862047.snakemake.log
